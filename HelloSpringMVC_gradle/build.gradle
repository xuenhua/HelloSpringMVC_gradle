/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.3/userguide/java_library_plugin.html
 */

// Apply the java-library plugin to add support for Java Library
apply plugin: 'java-library'
apply plugin: 'java'
// Apply the war plugin to add support for Java
apply plugin: 'war' 
// Tomcat plugin
apply plugin: 'com.bmuschko.tomcat'
// Dynamic web project
apply plugin: 'eclipse-wtp'
apply plugin: 'eclipse'
//apply plugin: 'idea'

version = '1.0' 

sourceCompatibility = 1.8
targetCompatibility = 1.8

// java编译的时候缺省状态下会因为中文字符而失败
    [compileJava,compileTestJava,javadoc]*.options*.encoding = 'UTF-8'
    
    //定义版本号变量
    ext {  
        springVersion = '5.1.3.RELEASE' 
        asix2Version = '1.7.9' 
        //hibernateVersion='4.3.1.Final'  
    } 
    // 依赖maven中不存在的jar
    //ext.jarTree = fileTree(dir: 'libs', include: '**/*.jar')
    //ext.rootProjectLibs = new File(rootProject.rootDir, 'libs').getAbsolutePath()
    //ext.jarTree += fileTree(dir: rootProjectLibs, include: '**/*.jar')
    //compile jarTree



// In this section you declare where to find the dependencies of your project
repositories {
    //maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
    //maven { url 'http://maven.aliyun.com/nexus/content/repositories/jcenter'}
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
    //mavenCentral()
    
}

dependencies {
    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:23.0'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
    
    //my addiation
    // https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api
    runtime group: 'javax.servlet', name: 'javax.servlet-api', version: '4.0.1'
    //runtime group: 'javax.servlet', name: 'javax.servlet-api', version: '3.1.0'
    
    // https://mvnrepository.com/artifact/org.springframework/spring-core
    compile group: 'org.springframework', name: 'spring-core', version: "${springVersion}"//'5.1.3.RELEASE'

    // https://mvnrepository.com/artifact/org.springframework/spring-web
    compile group: 'org.springframework', name: 'spring-web', version: "${springVersion}"
    
    // https://mvnrepository.com/artifact/org.springframework/spring-webmvc
    compile group: 'org.springframework', name: 'spring-webmvc', version: "${springVersion}"

    // https://mvnrepository.com/artifact/org.springframework/spring-jdbc
    compile group: 'org.springframework', name: 'spring-jdbc', version: "${springVersion}"

    // https://mvnrepository.com/artifact/mysql/mysql-connector-java
    compile group: 'mysql', name: 'mysql-connector-java', version: '6.0.6'
    
    // https://mvnrepository.com/artifact/com.h2database/h2
    testCompile group: 'com.h2database', name: 'h2', version: '1.4.197'
    //compile("com.h2database:h2") //内置内存数据库
    //runtime('mysql:mysql-connector-java') 
    
    // https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2
    compile group: 'org.apache.commons', name: 'commons-dbcp2', version: '2.5.0'

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2
    compile group: 'org.apache.axis2', name: 'axis2', version: "${asix2Version}", ext: 'pom'
    
    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-kernel
    compile group: 'org.apache.axis2', name: 'axis2-kernel', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-adb
    compile group: 'org.apache.axis2', name: 'axis2-adb', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-spring
    compile group: 'org.apache.axis2', name: 'axis2-spring', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.ws.commons.axiom/axiom-api
    compile group: 'org.apache.ws.commons.axiom', name: 'axiom-api', version: '1.2.21'

    // https://mvnrepository.com/artifact/org.apache.ws.commons.axiom/axiom-impl
    compile group: 'org.apache.ws.commons.axiom', name: 'axiom-impl', version: '1.2.21'

    // https://mvnrepository.com/artifact/org.apache.ws.commons.axiom/axiom-dom
    compile group: 'org.apache.ws.commons.axiom', name: 'axiom-dom', version: '1.2.21'

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-http
    compile group: 'org.apache.axis2', name: 'axis2-transport-http', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-local
    compile group: 'org.apache.axis2', name: 'axis2-transport-local', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-base
    compile group: 'org.apache.axis2', name: 'axis2-transport-base', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-jms
    compile group: 'org.apache.axis2', name: 'axis2-transport-jms', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-mail
    compile group: 'org.apache.axis2', name: 'axis2-transport-mail', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-tcp
    compile group: 'org.apache.axis2', name: 'axis2-transport-tcp', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-testkit
    testCompile group: 'org.apache.axis2', name: 'axis2-transport-testkit', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-udp
    compile group: 'org.apache.axis2', name: 'axis2-transport-udp', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/org.apache.axis2/axis2-transport-xmpp
    compile group: 'org.apache.axis2', name: 'axis2-transport-xmpp', version: "${asix2Version}"

    // https://mvnrepository.com/artifact/redis.clients/jedis
    compile group: 'redis.clients', name: 'jedis', version: '2.9.0'

    // https://mvnrepository.com/artifact/org.springframework.data/spring-data-redis
    compile group: 'org.springframework.data', name: 'spring-data-redis', version: '2.1.3.RELEASE'

    // TomcatServer
    def tomcatVersion = '7.0.59'
    tomcat "org.apache.tomcat.embed:tomcat-embed-core:${tomcatVersion}",
           "org.apache.tomcat.embed:tomcat-embed-logging-juli:${tomcatVersion}",
           "org.apache.tomcat.embed:tomcat-embed-jasper:${tomcatVersion}"
    
          
}

// Build script
buildscript {

    repositories {
        jcenter()
    }

    dependencies {
        classpath 'com.bmuschko:gradle-tomcat-plugin:2.2.2'
    }
}

// 显示当前项目下所有用于 compile 的 jar.
    //task listJars(description: "Display all compile jars.") {
    //    configurations.compile.each { File file -> println file.name }
    //}
    


